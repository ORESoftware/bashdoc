
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="bashdoc" />
  <link href="https://fonts.googleapis.com/css?family=Lora:400,400italic|Work+Sans:300,400,500,600" rel="stylesheet" type="text/css"/>

  <title></title>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #0000ff; } /* Keyword */
code > span.ch { color: #008080; } /* Char */
code > span.st { color: #008080; } /* String */
code > span.co { color: #008000; } /* Comment */
code > span.ot { color: #ff4000; } /* Other */
code > span.al { color: #ff0000; } /* Alert */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #008000; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #008080; } /* SpecialChar */
code > span.vs { color: #008080; } /* VerbatimString */
code > span.ss { color: #008080; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #0000ff; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ff4000; } /* Preprocessor */
code > span.do { color: #008000; } /* Documentation */
code > span.an { color: #008000; } /* Annotation */
code > span.cv { color: #008000; } /* CommentVar */
code > span.at { } /* Attribute */
code > span.in { color: #008000; } /* Information */
  </style>
  <style>
  * {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      margin-top: 0;
  }
      html, div, body { margin:0; padding:0; }
      #toc {
        width: 25%;
        margin:50px 0 0 0;
        padding:0 2%;
        float: left;
        background: #3E4042;
        color: #dadada;
      }
      body {
      font-family: "Work sans", Helvetica, Arial, sans-serif;
      font-size: 15px;
      line-height: 1.4;
      background: #3E4042;
      }
  
      h1,h2,h3,h4,h5,h6 {
        font-family: "Work sans","Helvetica Neue", Helvetica, Arial, sans-serif;
        font-weight: 500;
      }
  
      #toc ul { padding:0; margin:0; }
      #toc > ul > li { margin-bottom: 2em; }
      #toc li { list-style: none; padding-left:0; }
      #toc ul ul { padding-left: 1.25em; }
      #toc code { display:none; }
      #toc a {
        color: #dadada;
        text-decoration: none;
      }
      #toc a:hover {
        color: #fff;
      }
      #content {
        padding: 50px 5% 50px 5%;
        margin:0 0 0 25%;
        background: #fff;
      }
  
      .section pre {
        border-radius: 10px;
        border:1px solid #dadada;
        background: #ededed;
        width:100%;
        padding:5px;
        font-family: monospace;
        font-size:120%
      }
  
      pre.sourceCode {
        border-radius: 0;
        border: 0;
        background: none;
        padding-top:10px;
        width: 100%;
        font-size: 90%;
      }
  
      .module .section {
        padding-left: 2em;
      }
  
      .module .section p::first-letter {
        text-transform: capitalize;
      }
  
      .module h4 { margin-bottom:0 !important; }
  
      p { 
        width: 80%;
        text-align: justify;
      }
  
      .module p {
        padding-left: 1em;
        color: #555;
        font-style: italic;
      }
  
    .module h2 { margin-bottom:0.2em; margin-top: 2.5em;}
    .module h2:before {
       content: "module";
       color: #888;
       font-family: monospace;
       font-size: 90%;
       padding-right:0.4em;
    }
  
    .module h3:before {
       content: "function";
       color: #888;
       font-family: monospace;
       font-size: 90%;
       padding-right:0.4em;
    }
  
    .module dl {
      padding: 0.5em;
    }
    .module dt {
      display: inline-block;
      min-width: 125px;
      font-weight: bold;
      color: #333;
    }
    .module dd:after {
      display: block;
      content: "";
    }
    .module dt:after {
      content: ":";
    }
    .module dd {
      display: inline;
      margin: 0;
    }
    .module h3 code {
      font-size: 80%;
      color: #555;
    }
  
    hr { margin-top:2em; margin-bottom: 2em; border:1px solid #555;
    background: none; }
    div.sourceCode { width: 100% !important; }
    td.lineNumbers { padding-left:0 !important; }
    .sourceCode pre { margin-bottom:0 !important; }
    .sourceCode { margin-bottom: 0.5em !important; }
  
  
  h1 code,h2 code,h3 code,h4 code,.section p code, dl code {
    background: none !important;
    color: #555 !important;
  }
  </style>
<body class="book toc2 toc-left">
<div id="toc" class="toc2">
<ul>
<li><a href="#bashdoc">bashdoc</a><ul>
<li><a href="#documentation-syntax">Documentation syntax</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#using-api-name">Using API name</a></li>
<li><a href="#using-custom-stylesheet">Using custom stylesheet</a></li>
</ul></li>
<li><a href="#api-reference-bashdoc">API Reference (bashdoc)</a><ul>
<li><a href="#doc">doc</a><ul>
<li><a href="#docread_blocks-api">doc::read_blocks <code>[api]</code></a></li>
<li><a href="#docoutput-file">doc::output <code>&lt;file&gt;+</code></a></li>
<li><a href="#docgenerate-file">doc::generate <code>&lt;file&gt;+</code></a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="content">
<div id="bashdoc" class="section level1">
<h1>bashdoc</h1>
<p>Documentation generator for bash applications.</p>
<div id="documentation-syntax" class="section level2">
<h2>Documentation syntax</h2>
<p>Bashdoc will evaluate some special comments into the source code. The comments are prefixed with the following doc strings:</p>
<dl>
<dt><code># mod: modname</code></dt>
<dd>The module name itself.
</dd>
<dt><code># fun: funsignature</code></dt>
<dd>The function signature, usually include parameters here, but not describe them.
</dd>
<dt><code># txt:</code></dt>
<dd>Textual description of the previous declarated section (module or function).
</dd>
<dt><code># opt: param: ...</code></dt>
<dd>Describe an option or parameter to a function.
</dd>
<dt><code># env: VAR: ...</code></dt>
<dd>Describe a environment variable called <code>$VAR</code>.
</dd>
<dt><code># use: ...</code></dt>
<dd>Provides an example of use of the function or module.
</dd>
<dt><code># api: ...</code></dt>
<dd>Set the API name for this element. The API name could be used to filter what functions or modules will be documented in final output.
</dd>
</dl>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<p>Let’s suppose the following content of the file <code>script.bash</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># mod: example</span>
<span class="co"># txt: this module is an example for documentation.</span>
<span class="co">#      The txt sections as also opt and env ones can</span>
<span class="co">#      be multiline if lines are kept vertical aligned.</span>

<span class="co"># fun: sum num1 num2</span>
<span class="co"># txt: sum two numbers and output the result</span>
<span class="co"># opt: num1: the first number to sum</span>
<span class="co"># opt: num2: the second number to sum</span>
<span class="co"># use: sum 1 3</span>
<span class="co"># api: sum</span>
<span class="fu">sum ()</span>
<span class="kw">{</span>
  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$(($1</span> + <span class="va">$2))</span><span class="st">&quot;</span>
<span class="kw">}</span></code></pre></div>
<p>Now you can generate the HTML with the command:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">bashdoc</span> -o doc.html script.bash</code></pre></div>
</div>
<div id="using-api-name" class="section level2">
<h2>Using API name</h2>
<p>Le’ts suppose the previous example code, and we need to add more functions there:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># fun: internal_sum num1</span>
<span class="co"># txt: return zero (yes, it&#39;s not very usefull function)</span>
<span class="co"># api: internal</span>
<span class="fu">internal_sum ()</span>
<span class="kw">{</span>
  <span class="bu">echo</span> 0
<span class="kw">}</span></code></pre></div>
<p>If we generate the HTML in the same way that we do previously, the result HTML will contain two documented functions: <code>sum</code> and <code>internal_sum</code>, but we don’t want the second one in the documentation. Of course we can remove the doc strings from there, but then we loose the documentation in the code too. To avoid this problem we can use the API name. If you look carefully, you can see that the api name in the first function is <code>sum</code>, and in the second one is <code>internal</code>. If we run bashdoc as following:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">bashdoc</span> -a sum -o doc.html script.bash</code></pre></div>
<p>We will create documentation only for functions tagged as API <em>sum</em>. Please note that if you force a specific API tag, then functions or modules without declared API will be not documented.</p>
</div>
<div id="using-custom-stylesheet" class="section level2">
<h2>Using custom stylesheet</h2>
<p>By default bashdoc using its own CSS stylesheet and HTML template, which is pretty nice, by the way, but if you want to use your own style and/or HTML template, you can use it passing paramenters <code>-s</code> (for style) and <code>-t</code> (for template) to the bashdoc command.</p>
<p>Accepted styleshet is any file which contains valid CSS code. Accepted template is any template accepted by pandoc.</p>
<p>For example:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">bashdoc</span> -s mystyle.css -t mytemplate.html -o doc.html script.bash</code></pre></div>
<hr />
</div>
</div>
<div id="api-reference-bashdoc" class="section level1">
<h1>API Reference (bashdoc)</h1>
<div id="doc" class="section level2 module">
<h2>doc</h2>
<p>The <code>doc</code> module provides functions to convert bash source code to HTML, using markdown and specific CSS themes.</p>
<div id="docread_blocks-api" class="section level3 function">
<h3>doc::read_blocks <code>[api]</code></h3>
<p>read and print blocks readed from stdin which match with specific api definition. If api is not provided all elements will be documentated, if api is provided, only elements with declared api matched with provided one will be documented. If api is provided, but is not declared in documentation, then item will be documentated too.</p>
<div id="parameters" class="section level4">
<h4>Parameters</h4>
<dl>
<dt><code>api</code></dt>
<dd>a string which identify the API to be documented.
</dd>
</dl>
</div>
<div id="environment-variables" class="section level4">
<h4>Environment variables</h4>
<dl>
<dt><code>DOCSTRING</code></dt>
<dd>The docstring comment which identify a special comment used for documentation. By default ‘sha-space’ (# ).
</dd>
</dl>
</div>
<div id="usage-example" class="section level4">
<h4>Usage example</h4>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">doc</span>::read_blocks v1 <span class="op">&lt;</span> script</code></pre></div>
</div>
</div>
<div id="docoutput-file" class="section level3 function">
<h3>doc::output <code>&lt;file&gt;+</code></h3>
<p>Create intermediate markdown code required to produce final HTML.</p>
<div id="environment-variables-1" class="section level4">
<h4>Environment variables</h4>
<dl>
<dt><code>TITLE</code></dt>
<dd>The document title.
</dd>
<dt><code>AUTHOR</code></dt>
<dd>The document author.
</dd>
<dt><code>DATE</code></dt>
<dd>The date of the produced document.
</dd>
</dl>
</div>
<div id="usage-example-1" class="section level4">
<h4>Usage example</h4>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">doc</span>::output file</code></pre></div>
</div>
</div>
<div id="docgenerate-file" class="section level3 function">
<h3>doc::generate <code>&lt;file&gt;+</code></h3>
<p>generate HTML for the specified files passed as arguments.</p>
<div id="environment-variables-2" class="section level4">
<h4>Environment variables</h4>
<dl>
<dt><code>OUTPUT</code></dt>
<dd>filename of the output file or stdout if not provided.
</dd>
</dl>
</div>
<div id="usage-example-2" class="section level4">
<h4>Usage example</h4>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">doc</span>::generate file</code></pre></div>
<hr />
</div>
</div>
</div>
</div>
</div>
</body>

